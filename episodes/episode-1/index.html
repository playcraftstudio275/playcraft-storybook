<body>

<!-- INTRO -->
<div id="intro">
  <div class="logo">PLAYCRAFT STUDIO</div>
</div>

<audio id="whoosh" src="audio/whoosh.mp3"></audio>

<!-- BOOK -->
<div class="book" id="book">

  <!-- COVER -->
  <div class="cover" id="cover">
    <img src="images/0.jpg">
    <button class="startBtn">Mulai Cerita</button>
  </div>

  <!-- SPREAD 1 -->
  <div class="spread" id="spread1">
    <div class="left">
      <img src="images/1b.jpg">
    </div>
    <div class="right page">
      <img src="images/1a.jpg">
    </div>
  </div>

  <!-- SPREAD 2 -->
  <div class="spread" id="spread2">
    <div class="left">
      <img src="images/2b.jpg">
    </div>
    <div class="right page">
      <img src="images/2a.jpg">
    </div>
  </div>

</div>

<style>
body{
  margin:0;
  background:black;
  overflow:hidden;
  font-family:Arial;
}

/* INTRO */
#intro{
  position:fixed;
  width:100%;
  height:100vh;
  background:black;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:100;
  transition:opacity 1s ease;
}

.logo{
  color:white;
  font-size:2rem;
  letter-spacing:4px;
  opacity:0;
  animation:fadeIn 1.5s forwards;
}

@keyframes fadeIn{
  to{opacity:1;}
}

/* BOOK */
.book{
  position:absolute;
  width:70vw;
  height:85vh;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  perspective:2500px;
}

/* COVER */
.cover{
  position:absolute;
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:3;
  transform-origin:left;
  transition:transform 1.2s ease-in-out;
}

.cover img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
}

/* SPREAD */
.spread{
  position:absolute;
  width:100%;
  height:100%;
  display:flex;
  opacity:0;
  transition:opacity 0.6s ease;
}

.spread.active{
  opacity:1;
  z-index:2;
}

.left, .right{
  width:50%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#111;
}

.left img, .right img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
}

/* PAGE FLIP */
.page{
  transform-origin:left;
  transition:transform 1.2s ease-in-out;
  backface-visibility:hidden;
}

.page.flipped{
  transform:rotateY(-180deg);
}

/* BUTTON */
.startBtn{
  position:absolute;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  padding:10px 20px;
  border:none;
  border-radius:20px;
  background:white;
  cursor:pointer;
}
</style>

<script>
let currentSpread = 0;
const spreads = [];

window.onload = function(){

  spreads.push(
    document.getElementById("spread1"),
    document.getElementById("spread2")
  );

  const intro = document.getElementById("intro");
  const sound = document.getElementById("whoosh");

  sound.play().catch(()=>{});

  setTimeout(()=>{
    intro.style.opacity="0";
    setTimeout(()=>intro.style.display="none",1000);
  },3000);

  document.querySelector(".startBtn").addEventListener("click", function(e){
    e.stopPropagation();
    openBook();
  });

  document.getElementById("book").addEventListener("click", function(){
    nextSpread();
  });
};

function openBook(){
  document.getElementById("cover").style.transform = "rotateY(-180deg)";
  spreads[0].classList.add("active");
}

function nextSpread(){
  if(currentSpread < spreads.length - 1){
    spreads[currentSpread].querySelector(".page").classList.add("flipped");
    currentSpread++;
    spreads[currentSpread].classList.add("active");
  }
}
</script>

</body>
